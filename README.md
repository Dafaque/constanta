# Запуск
- `make run`
### ... или
- `make build`
- `make start`
### ... ну или
- `docker build -t <имя_чтобы_потом_знать_че_удалять> .`
- `docker run -p <свободный_порт_на_вашей_тачкек>:8080 -d <то_самое_имя_с_предыдущего_шага>`
>Не стал добавлять никаких внешних конфигов или переменных среды.
# Тестирование
## Чисто убедиться, что работает
- `make test`
## Вход
Приложение ожидает на вход в теле запроса объект с одним полем, содержащим перечисление URL:

```
{
    urls: ["https://ya.ru/path1", "https://google.com/path2"]ы
}
```
> Протокол указывать обязательно!

## Выход

### Если что-то пошло не так до выполнения запросов по URL:

- **429** - сейчас обрабатывается больше MAX_CONNECTIONS запросов
- **405** - метод запроса не POST
- **422** - тело запроса не явлется валидным JSON объектом
- **412** - в запросе больше 20 URL

Если до запросов дошло, но где-то в процессе возникли ошибки, то вернется статус **500** и **текстовое** описание ошибки.

### Если все ок:

Вернется объект с одним полем, содержащий карту ответа, где ключ это URL, а значение - текст ответа.
>Именно текст, в тз не очень четко указанно чем именно может быть ответ и как трактовать, если ожидается JSON, а прилетит text/plain или image/png со статусом 200.
В некоторых случах такой бихейв нельзя считать прмя ошибкой, потому сорян ¯\\_(ツ)_/¯
```
{
    "data": {
        "https://ya.ru/path1": "<html>...</html>",
        "https://google.com/path2": "{...}"
    }
}
```

---

# ТЗ

Это должен быть простой http-сервер с одним хендлером. Хендлер получает на вход  POST-запрос со списком url в json-формате. После этого сервер запрашивает данные по всем этим url и возвращает результат клиенту в json-формате. Если в процессе обработки хотя бы одного из url получена ошибка, обработка всего списка прекращается и клиенту возвращается текстовая ошибка.

Ограничения:

- [x] для реализации задачи следует использовать Go 1.13 или выше
- [x] использовать можно только компоненты стандартной библиотеки Go
- [x] сервер не должен принимать запрос если количество url в в нем больше 20
- [x] таймаут на запрос одного url - одна секунда
- [x] в репозитории должен быть приложен Dockerfile, который позволяет собрать и запустить сервис
- [x] пожалуйста, добавь README с описанием того, как сервис собирать и запускать (с использованием docker) и какого формата запрос он принимает, какой ответ нам ожидать
- [x] будет супер, если ты добавишь минимальные комментарии в код, которые объяснят, что где происходит

Со звездочкой (хорошо бы сделать, но не обязательно):

- [ ] для каждого входящего запроса должно быть не больше 4 **одновременных** исходящих
- [x] сервер не должен обслуживать больше чем 100 одновременных входящих http-запросов
- [x] обработка запроса может быть отменена клиентом в любой момент, это должно повлечь за собой остановку всех операций связанных с этим запросом
- [x] сервис должен поддерживать 'graceful shutdown'